!function(){function e(e){e.preventDefault(),l.style.height||(l.style.height=s.offsetHeight+"px"),this.parentElement.classList.toggle("focus"),this.parentElement.parentElement.classList.toggle("focus"),l.style.height=Math.max(s.offsetHeight,this.parentElement.lastChild.scrollHeight)+"px"}function t(){o.contains(m)?(o.remove(m),a.removeAttribute(c),l.removeAttribute(c),document.removeEventListener("keyup",n)):(o.add(m),a.setAttribute(c,"true"),l.setAttribute(c,"true"),document.addEventListener("keyup",n))}function n(e){27==e.keyCode&&t()}var s=document.getElementById("main-menu"),l=s.parentElement,a=document.getElementById("menu-open"),i=document.getElementById("mask"),o=document.documentElement.classList,c="aria-expanded",m="dopen";if(s&&a&&i){var r=0,u=(l.getElementsByTagName("a"),l.querySelectorAll(".menu-item-has-children"));for(r=0;r<u.length;++r){var h=document.createElement("span"),d=document.createElement("span");d.className="menuback",d.textContent="back",d.onclick=function(){var e=this.parentElement.parentElement;e.classList.toggle("focus"),e=e.parentElement,e.classList.toggle("focus"),l.style.height=Math.max(s.offsetHeight,e.offsetHeight)+"px"},u[r].lastChild.insertAdjacentElement("afterbegin",d),h.className="menutog",h.onclick=e,u[r].insertBefore(h,u[r].lastChild),"#"==u[r].firstChild.getAttribute("href")?u[r].firstChild.onclick=e:u[r].className+=" seperate-tog"}a.onclick=t,i.onclick=t}}();